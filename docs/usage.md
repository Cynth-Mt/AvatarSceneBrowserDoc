# 使用指南

## 概述

本指南详细介绍Avatar Scene Browser插件的所有功能使用方法，帮助您充分利用这个强大的场景管理工具。从基础操作到高级功能，让您的Unity场景管理变得高效有序。

## 主窗口详解

### 打开主窗口

通过以下方式访问Avatar Scene Browser主窗口：

1. **菜单方式**：`Tools → Avatar_Scene_Browser → Main Window`
2. **工具栏按钮**：Scene视图工具栏的 🖼️ 浏览器按钮

### 界面布局说明

主窗口采用经典的三栏式布局设计：

```
┌────────────────────────────────────────────────────────────┐
│  [Language: 中文 ▼]  [排序: 修改新 最旧 创建新 创建旧]         │
├─────────────┬─────────────────────────────┬────────────────┤
│             │                             │                │
│  标签筛选区  │        场景预览区           │    详情面板     │
│             │                             │                │
│ 🏷️ 全部场景 │  ┌───┐ ┌───┐ ┌───┐ ┌───┐  │ 选中场景信息   │
│ 🏷️ 角色     │  │📷 │ │📷 │ │📷 │ │📷 │  │ ┌────────────┐ │
│ 🏷️ 室内     │  └───┘ └───┘ └───┘ └───┘  │ │场景详情    │ │
│ 🏷️ 测试     │  ┌───┐ ┌───┐ ┌───┐ ┌───┐  │ │            │ │
│             │  │📷 │ │📷 │ │📷 │ │📷 │  │ │[操作按钮]  │ │
│ [管理标签]  │  └───┘ └───┘ └───┘ └───┘  │ └────────────┘ │
│             │       缩略图网格             │                │
│             │                             │ 添加标签 ▼     │
│             │                             │ 🎨 标签管理    │
└─────────────┴─────────────────────────────┴────────────────┘
```

### 各区域功能

#### 1. 顶部工具栏
- **Language下拉菜单**：切换界面语言（中文/日文/英文）
- **排序选项**：按时间或名称排序场景
- **GUID工具按钮**：快速访问GUID批量更新工具（如果有错误）

#### 2. 左侧标签筛选区
- **全部场景**：显示所有场景，清除筛选
- **标签列表**：显示所有可用标签，点击筛选场景
- **管理标签按钮**：打开标签管理窗口

#### 3. 中间场景预览区
- **缩略图网格**：以网格形式显示场景截图
- **场景信息**：显示场景名称和相关信息
- **选择状态**：高亮显示当前选中的场景

#### 4. 右侧详情面板
- **场景详情**：显示选中场景的详细信息
- **操作按钮**：提供场景相关操作
- **标签管理**：添加和管理场景标签

## 基础操作

### 浏览和选择场景

1. **浏览场景**
   - 在中间预览区滚动浏览所有场景缩略图
   - 使用鼠标滚轮或滚动条浏览更多场景

2. **选择场景**
   - 单击任意场景缩略图进行选择
   - 选中的场景会以高亮边框显示
   - 右侧详情面板会显示该场景的详细信息

3. **打开场景**
   - 双击场景缩略图直接打开
   - 或选中场景后点击右侧"打开此场景"按钮

### 场景排序功能

使用顶部的排序选项组织场景显示：

#### 时间排序
- **修改新**：按场景修改时间降序排列（最新修改的在前）
- **修改旧**：按场景修改时间升序排列（最早修改的在前）
- **创建新**：按场景创建时间降序排列（最新创建的在前）
- **创建旧**：按场景创建时间升序排列（最早创建的在前）

#### 名称排序
- **A-Z**：按场景名称字母升序排列
- **Z-A**：按场景名称字母降序排列

!!! tip "排序小贴士"
    - 默认排序为"修改新"，新截图会显示在前面
    - 排序设置会自动保存，下次打开时保持选择

## 截图管理

### 生成场景截图

Avatar Scene Browser支持多种截图方式：

#### 方法一：工具栏快速截图
1. 在Unity中打开目标场景
2. 调整Scene视图到满意的角度和视距
3. 点击Scene视图工具栏的 📷 截图按钮
4. 截图自动保存到Screenshot文件夹并立即显示

#### 方法二：主窗口中截图
1. 在Avatar Scene Browser中选择场景
2. 点击右侧详情面板的"打开此场景"按钮
3. 调整Scene视图角度
4. 点击"刷新截图"按钮生成新截图

### 批量刷新截图

对于大量场景的批量截图更新：

1. **启动批量刷新**
   - 点击"刷新所有截图"按钮
   - 确认对话框显示场景数量和预估时间

2. **监控进度**
   - 显示详细进度条和当前处理的场景名称
   - 可随时点击"取消"中止操作

3. **完成统计**
   - 显示成功和失败的场景数量
   - 提供详细的处理结果报告

!!! warning "批量截图注意事项"
    - 大项目的批量截图可能需要较长时间
    - 建议在非工作时间进行批量操作
    - 确保有足够的磁盘空间存储截图文件

### 截图文件管理

- **存储位置**：`Avatar_Scene_Browser/Screenshot/`
- **命名格式**：`[场景名称].png`
- **文件大小**：通常每张截图2-5MB
- **分辨率**：基于Scene视图的分辨率自动调整

## 标签系统使用

### 创建和应用标签

1. **为场景添加标签**
   - 选择目标场景
   - 在右侧详情面板找到"添加标签"下拉菜单
   - 输入新标签名称或选择已有标签
   - 按Enter确认添加

2. **查看场景标签**
   - 选中场景的所有标签显示在详情面板中
   - 标签按颜色区分，便于识别

3. **移除标签**
   - 在场景详情中点击标签旁的删除按钮（如果有）
   - 或通过标签管理窗口批量管理

### 使用标签筛选场景

1. **单标签筛选**
   - 在左侧标签区点击任意标签
   - 预览区只显示包含该标签的场景
   - 点击"全部场景"清除筛选

2. **标签使用统计**
   - 每个标签旁显示关联的场景数量
   - 帮助了解标签的使用频率

### 高级标签管理

通过标签管理窗口进行深度管理：

1. **打开标签管理窗口**
   - 点击左侧标签区的"管理标签"按钮

2. **编辑标签**
   - 在标签列表中选择要编辑的标签
   - 在右侧编辑面板修改名称和颜色
   - 点击"保存"确认修改

3. **删除标签**
   - 选择不需要的标签
   - 点击"删除"按钮并确认
   - 系统自动从所有场景中移除该标签

详细的标签管理功能请参考[标签管理系统](tag-management.md)文档。

## 多语言功能

### 语言切换

Avatar Scene Browser支持三种语言界面：

1. **切换语言**
   - 在主窗口顶部点击"Language"下拉菜单
   - 选择目标语言：中文/日本語/English
   - 界面立即切换到选择的语言

2. **语言持久化**
   - 语言选择自动保存
   - 重新打开窗口时保持上次选择的语言

3. **支持范围**
   - 所有界面文本都支持多语言
   - 包括主窗口、标签管理窗口、GUID工具等

## GUID系统管理

### 自动GUID追踪

GUID系统在后台自动工作：

- **场景识别**：使用Unity GUID而非文件路径识别场景
- **自动更新**：场景重命名或移动后自动更新路径信息
- **数据迁移**：从旧版本自动升级到GUID系统

### 使用GUID批量更新工具

当遇到GUID相关问题时：

1. **检查数据完整性**
   - 点击主窗口的"GUID工具"按钮
   - 或通过菜单访问：`Tools → Avatar_Scene_Browser → GUID Batch Update Tool`

2. **查看问题报告**
   - 工具显示详细的问题统计
   - 识别文件缺失、路径不匹配等问题

3. **执行修复操作**
   - 使用"修复所有问题"进行批量修复
   - 或针对个别场景进行单独修复

详细的GUID系统说明请参考[GUID追踪系统](guid-system.md)和[GUID批量更新工具](guid-batch-tool.md)文档。

## 错误监控与处理

### 实时错误显示

主窗口会实时监控并显示错误状态：

- **错误图标**：顶部显示红色错误图标和数量
- **错误类型**：主要显示丢失的场景文件
- **自动更新**：每30秒自动检查一次错误状态

### 处理丢失的场景

当显示"丢失"错误时：

1. **确认问题**
   - 检查是否真的删除了场景文件
   - 确认场景是否被移动到其他位置

2. **恢复场景**
   - 如果场景被误删，从备份或版本控制恢复
   - 如果场景被移动，使用GUID工具自动修复路径

3. **清理数据**
   - 如果场景确实不再需要，使用GUID工具删除相关记录

## 工具栏集成

### Scene视图工具栏按钮

安装插件后，Scene视图工具栏会显示两个按钮：

#### 📷 截图按钮
- **功能**：为当前场景快速截图
- **使用**：确保Scene视图显示满意的角度，然后点击按钮
- **结果**：截图保存到Screenshot文件夹，Avatar Scene Browser自动更新

#### 🖼️ 浏览器按钮
- **功能**：快速打开Avatar Scene Browser主窗口
- **使用**：点击按钮直接打开主窗口
- **便利**：无需通过菜单访问，提高工作效率

### 主题适配

工具栏按钮支持Unity编辑器主题：
- **浅色主题**：使用浅色版本图标
- **深色主题**：使用深色版本图标
- **自动切换**：跟随编辑器主题自动更新

## 性能优化建议

### 大型项目使用技巧

对于包含大量场景的项目：

1. **合理使用标签**
   - 建立清晰的标签分类体系
   - 避免创建过多细分标签
   - 定期清理不再使用的标签

2. **截图管理**
   - 避免频繁进行批量截图操作
   - 只在必要时刷新所有截图
   - 考虑分批处理大量场景

3. **数据维护**
   - 定期使用GUID工具检查数据完整性
   - 及时清理无效的场景记录
   - 备份重要的配置数据

### 团队协作最佳实践

在团队项目中：

1. **数据同步**
   - 将Data文件夹纳入版本控制
   - 定期同步场景数据和标签信息
   - 统一标签命名规范

2. **工具使用规范**
   - 制定团队的标签使用规则
   - 指定专人负责数据维护
   - 培训新成员正确使用插件

3. **问题处理**
   - 遇到数据冲突时及时沟通
   - 使用GUID工具统一修复问题
   - 记录和分享解决方案

## 故障排除

### 常见问题解决

#### 场景截图不显示
**可能原因**：
- 截图文件被删除或移动
- 文件权限问题
- 场景路径发生变化

**解决方案**：
1. 检查Screenshot文件夹是否存在截图文件
2. 使用"刷新截图"重新生成
3. 运行GUID工具检查路径问题

#### 标签筛选不工作
**可能原因**：
- 标签数据损坏
- 场景与标签关联丢失

**解决方案**：
1. 重新添加标签到场景
2. 检查tags.json文件是否正常
3. 重启Unity编辑器重新加载数据

#### 工具栏按钮不显示
**可能原因**：
- 插件未正确安装
- Unity版本兼容性问题
- 其他插件冲突

**解决方案**：
1. 确认插件文件完整导入
2. 重启Unity编辑器
3. 检查控制台错误信息

### 获取帮助

如果遇到无法解决的问题：

1. **检查文档**：查看相关功能的详细文档
2. **查看FAQ**：参考[常见问题](faq.md)文档
3. **检查日志**：查看Unity控制台的错误信息
4. **数据备份**：在尝试修复前备份重要数据

---

通过掌握这些使用方法，您可以充分发挥Avatar Scene Browser插件的功能，让Unity场景管理变得高效有序。如需了解特定功能的详细信息，请参考对应的专题文档。 